<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remote mini</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/pages.css">
    <link rel="stylesheet" href="styles/main.css">
    <!--<link rel="stylesheet" href="styles/components.css"> -->
    <link rel="stylesheet" href="styles/pages.css">
    <link rel="stylesheet" href="styles/buttons.css">
    <link rel="stylesheet" href="styles/calendar.css">
    <link rel="stylesheet" href="styles/devices.css">
    <link rel="stylesheet" href="styles/messages.css">
</head>
<body>
    <!-- Индикатор загрузки -->
    <div id="loading" class="loading-overlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <div>Проверка доступа...</div>
        </div>
    </div>

    <!-- Блок приложения -->
    <div id="app" class="hidden">
        <div class="container">
            <!-- Страницы будут загружаться сюда -->
            <div id="page-content"></div>
        </div>
    </div>

    <!-- Блок "Доступ запрещен" -->
    <div id="accessDenied" class="access-denied hidden">
        <i class="fas fa-ban"></i>
        <h2>Доступ запрещен</h2>
        <p>У вас нет прав для использования этого приложения.</p>
        <p>Обратитесь к администратору для получения доступа.</p>
        <div class="user-info" id="deniedUserInfo"></div>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/api.js"></script>
    <script src="js/dialog.js"></script>
    <script src="js/erp-handler.js"></script>
    <script src="js/cash-manager.js"></script>
    <script src="js/pc-manager.js"></script>
    <script src="js/printer-manager.js"></script> 
    <script src="js/cash-server-manager.js"></script>
    <script src="js/services-manager.js"></script>
    <script src="js/scheduler.js"></script>
    <script src="js/calendar-manager.js"></script>
    <script src="js/telegram-service.js"></script>
    <script src="js/app.js"></script>
    <script>
// Регистрация Service Worker
if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js')
            .then(function(registration) {
                console.log('✅ Service Worker зарегистрирован:', registration);
            })
            .catch(function(error) {
                console.log('❌ Ошибка регистрации Service Worker:', error);
            });
    });
}
</script>
</body>
</html>
